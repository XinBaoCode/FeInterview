# 计算机网络

## 1.简要概述 `Http1-Http3`

### 拓展链接

[解读 HTTP1/HTTP2/HTTP3](https://juejin.cn/post/6995109407545622542)

### 标准回答

> 首先回答为什么需要`Http`的升级,也就是`Http1-3`的所解决的问题

对于 `Http1`也就是`Http1.1`的缺陷  

#### 性能不高

1. `高延迟` --> 队头阻塞(顺序发送请求，一旦前面请求被阻塞，后面请求也会阻塞)
2. `无状态特性` --> 阻碍交互(协议对连接状态没有记忆能力，导致报文Header过大)  

#### 安全性不足

1. `明文传输` --> 不安全性

接下来是 `Http2` 对此的改进

#### 传输数据量减少

1. `二进制传输` --> `Http1`采用的是纯文本的报文，二进制传输更为高效
2. `Header压缩` --> 专门的`HPCK`算法，哈夫曼编码压缩整数和字符串。
3. `多路复用` --> 解决了浏览器限制同一个域名下的请求数量的问题
4. `服务端推送` --> 服务器可以主动把文件推送到客户端
5. `提高安全性` --> 一般`Http2`都指的是`Https`加密的

然后是`Http2`的缺点  
>主要原因是底层支撑的 TCP 协议造成的

1. `TCP`以及`TCP+TLS`建立连接的延时 --> 传输数据前需要`3-4`个 `RTT`
2. `TCP` 的队头阻塞并没有彻底解决 --> 丢包时`Http2`需要重传，慢
3. 多路复用导致服务器压力上升 --> 多路复用没有限制同时请求数，请求会爆发，QPS暴增
4. 多路复用容易`Timeout` --> 大批量的请求服务端也不能及时处理

最后是 `Http3` 对此的改进

#### QUIC协议--基于UDP

1. `QUIC`是无连接的 --> 不需要握手和挥手，建议连接快
2. 虽基于`UDP`但是实现了类似`TCP`的流量控制 --> 保证数据传输的可靠性
3. 多路复用，彻底解决TCP中队头阻塞的问题 --> 同一物理链接多个独立数据流

